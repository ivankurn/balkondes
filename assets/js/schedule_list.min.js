$(function() {
    $('#sample_1').dataTable({
        language: {
            aria: {
                sortAscending: ": activate to sort column ascending",
                sortDescending: ": activate to sort column descending"
            },
            emptyTable: "No data available in table",
            info: "Showing _START_ to _END_ of _TOTAL_ entries",
            infoEmpty: "No entries found",
            infoFiltered: "(filtered1 from _MAX_ total entries)",
            lengthMenu: "_MENU_ entries",
            search: "Search:",
            zeroRecords: "No matching records found"
        },
        buttons: [{
            extend: "print",
            className: "btn dark btn-outline",
            exportOptions: {
                columns: "thead th:not(.noExport)"
            },
        }, {
        extend: "copy",
        className: "btn blue btn-outline",
        exportOptions: {
            columns: "thead th:not(.noExport)"
        },
        },{
        extend: "pdf",
        className: "btn yellow-gold btn-outline",
        exportOptions: {
            columns: "thead th:not(.noExport)"
        },
        }, {
            extend: "excel",
            className: "btn green btn-outline",
            exportOptions: {
                columns: "thead th:not(.noExport)"
            },
        }, {
            extend: "csv",
            className: "btn purple btn-outline ",
            exportOptions: {
                columns: "thead th:not(.noExport)"
            },
        }, {
        extend: "colvis",
        className: "btn red",
        exportOptions: {
            columns: "thead th:not(.noExport)"
        },
        }],
        columnDefs: [{
            className: "control",
            orderable: !1,
            targets: 0
        }],
        order: [0, "asc"],
        lengthMenu: [
            [5, 10, 15, 20, -1],
            [5, 10, 15, 20, "All"]
        ],
        pageLength: 10,
        "bPaginate" : true,
        "bInfo" : true,
        dom: "<'row' <'col-md-12'B>><'row'<'col-md-6 col-sm-12'l><'col-md-6 col-sm-12'f>r><'table-scrollable't><'row'<'col-md-5 col-sm-12'i><'col-md-7 col-sm-12'p>>"
    });	  

    $('#sample_1').on('click', '.edit', function() {
      var type  = $(this).data('type');
      var price = $(this).data('price');
      var id    = $(this).data('id');

      $('#update').show();
      $('#update').prependTo('#destination');

      $('#typeKend').val(type);
      $('#hargaKend').val(price);
      $('#idKend').val(id);
    });

    $('#sample_1').on('click', '.delete', function() {
      var hapus  = $(this).data('for');
      var idKend = $(this).data('id');

      var column = $(this).parents('tr');

        swal({
          title: "Hapus "+hapus+"?",
          type: "warning",
          showCancelButton: true,
          confirmButtonColor: "#DD6B55",
          confirmButtonText: "Hapus",
          closeOnConfirm: false
        },
        function(){
            $.ajax({
                type : "POST",
                url : "http://borobudur.local/vehicle/delete",
                data : "_token="+token+"&id_vehicle_type="+idKend,
                success : function(result) {
                    if (result == 1 ) {
                        swal({
                          title            : hapus+" berhasil dihapus.",
                          timer            : 1500,
                          type             : "success",
                          showConfirmButton: false
                        });

                        $('#sample_1').DataTable().row(column).remove().draw();
                    }
                    else {
                          swal({
                          title            : hapus+" gagal dihapus.",
                          timer            : 1500,
                          type             : "error",
                          showConfirmButton: false
                        });
                    }
                }
            });

        });
    });
});